services:
  vaultwarden:
    image: vaultwarden/server:latest
    container_name: vaultwarden
    restart: always
    environment:
      DOMAIN: https://vaultwarden.${DOMAIN}
      SIGNUPS_ALLOWED: "true"
      ADMIN_TOKEN: ${VAULTWARDEN_ADMIN_TOKEN}
    networks:
      - lab
    volumes:
      - ./vw-data:/data
    expose:
      - "80"
      - "443"

networks:
  local:
    external: true
